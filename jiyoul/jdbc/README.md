트랜잭션 ACID
* 원자성
- 트랙잭션 내에서 실행한 작업들은 하나의 작업처럼 모두 성공이거나 모두 실패해야 한다.
* 일관성
- 모든 트랜잭션은 일관성 있는 데이터베이스 상태를 유지해야 한다.
- 데이터베이스에서 정한 무결성 제약 조건을 항상 만족해야 함.
* 격리성
- 동시에 실행되는 트랜잭션들이 서로에게 영향을 미치지 않아야 한다.
- 동시에 같은 데이터를 수정하지 못해야 함.
- 격리성은 동시성과 관련된 선 이슈로 트랙잭션 격리 수준을 선택할 수 있다. (Isolation level)

* 지속성
- 트랜잭션을 성공적으로 끝내면 그 결과가 항상 기록되어야 한다.
- 중간에 시스템에 문제가 발생하더라도 데이터베이스 로그 등을 사용해서 성공한 트랜잭션 내용을 복구해야 함.

트랜잭션 격리수준 (Isolation Level)
READ UNCOMMITTED (커밋되지 않은 데이터도 읽기)
READ COMMITTED (커밋된 데이터 읽기)
REPEATABLE READ (반복 가능한 읽기)
SERIALIZABLE (직렬화 가능)

트랜잭션 격리 수준은 아래로 갈수록 성능이 감소함.
일반적으로는 READ COMMITTED를 사용함.

데이터를 수정하는 로직에서는 LOCK 이 걸리고 해당 컬럼을 다른 트랜잭션에서 변경하려고 할때에는
LOCK이 풀릴때까지 대기한다.

SELECT 에서는 LOCK 이 걸리지도 않고 LOCK 과 상관없이 조회가 가능하지만 for update 로 SELECT 를 하게 되는 경우에는 LOCK 을 걸 수 있다.

LOCK은 커밋과 동시에 자동으로 풀리게 된다.
LOCK은 조금이라도 먼저온 세션(DB 서버 내부의 세션으로 클라와 커넥션 맺는것) 에게 우선적으로 부여된다.
